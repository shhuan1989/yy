<section class="content-header">
    <h1>
        项目日志
    </h1>
    <ol class="breadcrumb">
        <li><a href="/"><i class="fa fa-home"></i> 主页</a></li>
        <li><a ui-sref="yy_project_ongoing"><i class="fa fa-tasks"></i> 进行中的项目</a></li>
        <li><a ui-sref="yy_project_ongoing.view({id:vm.projectId})">项目详情</a></li>
        <li class="active">项目日志</li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-md-12">

            <div class="box box-solid box-primary">
                <div class="box-header with-border">
                    <h3>{{vm.project.name}}</h3>
                </div>
                <div class="box-body" id="timeline-box">
                    <!-- The time line -->
                    <ul class="timeline">
                        <li ng-class="{'time-label': tevt.typeId == null}" ng-repeat="tevt in vm.timelineEvents">
                            <span class="bg-green" ng-if="tevt.typeId == null">{{tevt.day}}</span>

                            <i ng-if="tevt.typeId == 0" class="fa fa-envelope bg-blue"></i>
                            <i ng-if="tevt.typeId == 1" class="fa fa-envelope bg-blue"></i>
                            <i ng-if="tevt.typeId == 2" class="fa fa-tasks bg-aqua"></i>
                            <i ng-if="tevt.typeId == 3" class="fa fa-comments bg-yellow"></i>
                            <i ng-if="tevt.typeId == 4" class="fa fa-file-archive-o bg-purple"></i>
                            <i ng-if="tevt.typeId == 5" class="fa fa-file-image-o bg-maroon"></i>


                            <div class="timeline-item" ng-if="tevt.typeId != null">
                                <!--<img ng-if="tevt.type != 1" http-src="resource/pictures/{{tevt.creator.photo.id}}" alt="{{tevt.creator.name}}" class="img-circle" >-->
                                <span class="time"><i class="fa fa-clock-o"></i> {{tevt.createTime | yytime}}</span>

                                <h3 class="timeline-header">
                                    <a>{{tevt.creator.name}}</a>  {{tevt.name}}
                                </h3>

                                <div class="timeline-body">
                                    {{tevt.info}}
                                </div>
                            </div>

                        </li>
                        <li>
                          <i class="fa fa-clock-o bg-gray"></i>
                        </li>
                        <!-- END timeline item -->
                    </ul>
                </div>
                <div class="overlay" ng-if="vm.isLoading">
                    <i class="fa fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>
    </div>
</section>
