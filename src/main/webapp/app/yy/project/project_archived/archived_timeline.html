<section class="content-header">
    <h1>
        项目日志
    </h1>
    <ol class="breadcrumb">
        <li><a href="/"><i class="fa fa-home"></i> 主页</a></li>
        <li><a ui-sref="yy_project_archived"><i class="fa fa-tasks"></i> 已归档的项目</a></li>
        <li class="active">项目日志</li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <div class="row">
        <div class="col-md-12">

            <div class="box">
                <div class="box-header with-border">

                    <div class="box-header-title">
                        <h3 class="box-title" style="width: 100%">{{vm.project.name}}<a class="pull-right" ui-sref="yy_project_ongoing.view({id: vm.project.id})">查看项目详情</a></h3>
                    </div>
                    <form class="form-horizontal" novalidate data-parsley-validate>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_id">项目编号：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_id" class="form-control">{{vm.project.id}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_name">项目名称：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_name" class="form-control">{{vm.project.name}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_contract_status">合同/PO状态：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_contract_status" class="form-control">{{vm.project.paymentStatus.name}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_contract_id">合同/PO编号：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_contract_id" class="form-control">{{vm.project.contract.idNumber}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_ishuawei">是否华为：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12" id="field_ishuawei">
                                <label class="form-control" ng-if="vm.project.huaWei">是</label>
                                <label class="form-control" ng-if="!vm.project.huaWei">否</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_client_name">客户名称：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_client_name" class="form-control">{{vm.project.client.name}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_director">项目总监：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_director" class="form-control">{{vm.project.director.name}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_manager">项目经理：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_manager" class="form-control">{{vm.project.aes | arrprop: 'name'}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_createTime">创建时间：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_createTime" class="form-control">{{vm.project.createTime | yytime}}</label>
                            </div>
                        </div>
                        <div class="form-group col-md-4 col-sm-6 col-xs-12">
                            <label class="control-label col-md-4 col-sm-4 col-xs-12" for="field_finish_time">完结时间：</label>
                            <div class="col-md-8 col-sm-8 col-xs-12">
                                <label id="field_finish_time" class="form-control">{{vm.project.archiveTime | yytime}}</label>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="box-body" id="timeline-box">
                    <!-- The time line -->
                    <ul class="timeline">
                        <li ng-class="{'time-label': tevt.typeId == null}" ng-repeat="tevt in vm.timelineEvents">
                            <span class="bg-green" ng-if="tevt.typeId == null">{{tevt.day}}</span>

                            <i ng-if="tevt.typeId == 0" class="fa fa-envelope bg-blue"></i>
                            <i ng-if="tevt.typeId == 1" class="fa fa-envelope bg-blue"></i>
                            <i ng-if="tevt.typeId == 2" class="fa fa-tasks bg-aqua"></i>
                            <i ng-if="tevt.typeId == 3" class="fa fa-comments bg-yellow"></i>
                            <i ng-if="tevt.typeId == 4" class="fa fa-file-archive-o bg-purple"></i>
                            <i ng-if="tevt.typeId == 5" class="fa fa-file-image-o bg-maroon"></i>


                            <div class="timeline-item" ng-if="tevt.typeId != null">
                                <!--<img ng-if="tevt.type != 1" http-src="resource/pictures/{{tevt.creator.photo.id}}" alt="{{tevt.creator.name}}" class="img-circle" >-->
                                <span class="time"><i class="fa fa-clock-o"></i> {{tevt.createTime | yytime}}</span>

                                <h3 class="timeline-header">
                                    <a>{{tevt.creator.name}}</a>  {{tevt.name}}
                                </h3>

                                <div class="timeline-body">
                                    {{tevt.info}}
                                </div>
                            </div>

                        </li>
                        <li>
                            <i class="fa fa-clock-o bg-gray"></i>
                        </li>
                        <!-- END timeline item -->
                    </ul>
                </div>
                <div class="overlay" ng-if="vm.isLoading">
                    <i class="fa fa-spinner fa-spin"></i>
                </div>
            </div>
        </div>
    </div>
</section>
